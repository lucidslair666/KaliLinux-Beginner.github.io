IP协议,应用于网络层
网络层的主要功能是 : 实现终端节点之间的通信,也就是实现点对点通信
网络层可以实现跨越不同的数据链路,使数据包能在不同的数据链路之上实现两端节点之间的传输

IP协议大致分为一下三大模块
	IP寻址
	路由
	IP分包与组包
	
	IP地址是什么?
		IP地址是指 互联网协议地址(网际协议地址),它是为计算机网络相互连接进行通信而设计的协议
		所以,在TCP/IP通信中所有的主机或者路由器必须设定自己的IP地址
		IP地址由 网络标识 + 主机标识组成
		IP地址分类
			A类 : 0.0.0.0 ~ 127.255.255.255    首位以"0"开头的地址,由1字节的网络地址 + 3字节的主机地址组成
			B类 : 128.0.0.0 ~ 191.255.255.255    首位由"10"开头的地址,由2字节的网络地址 + 2字节的主机地址组成
			C类 : 192.0.0.0 ~ 223.255.255.0    首位以"110"开头的地址,由3字节的网络地址 + 1字节的主机地址组成
			D类 : 224.0.0.0 ~ 239.255.255.255    首位以"1110"开头的地址,由四字节的网络地址组成,D类网址没有主机标识,一般用于多播.
			
	广播地址
		广播地址主要是用于在一个链路中相互连接的主机之间发送数据包
		将IP地址中的主机地址全部设置为1,就成为了广播地址
		广播地址分为本地广播和直接广播两种
			本地广播 : 在本网络内的广播
			直接广播 : 在不同网络之间的广播
			
	这里提到了广播
	那么以下就来说明一下 单播 多播(组播) 广播 之间的区别,这些都是用来描述网络节点之间通讯方式
		单播 : 信息的接收和传递只在两个节点之间进行,通常使用P2P代替单播
			优点 : 针对不同的客户机发送不同的数据报文,实现个性化服务,并且可以及时响应客户机的请求
			缺点 : 在对端客户机较多的时候,使用单播方式会增加网络负担,造成网络拥塞
		多播 : 多播又称为组播,组播既可以实现一次传送所有的目标节点的数据,也可以达到只对特定用户传送数据的目的.组播IP地址就是D类IP地址,从224.0.0.0 ~ 239.255.255.255之间的IP地址
			优点 : "一对一组"的通讯模式,加入了一个组的用户可以接收该组内所有的数据,可以一次性传输数据给多个组内的主机,又不会影响组外主机的通讯.并且由于组内数据共享数据流,可以一定程度上减轻网络拥塞的情况.组播地址广泛,可以提供数量庞大的组播服务
			缺点 : 相比于单播,没有纠错机制,放生丢包错包后很难弥补,但是可以通过容错机制和QOS来减小后果的严重性,况且,QOS和客户认证等机制还需要完善.
		广播 : 广播的应用范围很广,例如客户机通过DHCP自动获得IP地址的过程就是通过广播来实现的,而且几乎占用了子网内网络的所有带宽( 注意广播风暴的问题,可以通过不同网段来隔绝广播风暴 )
			优点 : 布网成本低廉,维护简单.并且由于主机不需要逐一向客户机发送数据,所以网络负载量极低
			缺点 : 无法对每个客户提供个性化的服务,并且广播被禁止在Internet上传播
		
		总结而言,单播,组播,广播使用的范围不同,在"一对一"的传输模式中,使用单播更好,在"一对多个"的传输模式中,使用组播更好,而在"一对全部"的传输模式中,使用广播更优.
	
	子网掩码
		如今,一个IP地址的网络标识和主机标识只受限于子网掩码
		子网掩码用二进制表示的话,其IP地址网络标识位全部为 1 ,对应IP地址的主机标识位全部为 0 
		因此,可以通过子网掩码将A,B,C,D等网段划分为更小的子网
	
		无类别域间路由 : CIDR
			给用户分配IP地址以及在互联网上有效路由IP数据包的对IP地址进行归类的方法
			无类别域间路由是基于VLSM( 可变长子网掩码 )的
			无类别域间路由指定任意长度的前缀的子网掩码技术,,提高了IP地址的可扩充性
		
	IP的分包与组包
		每种数据链路的最大传输单元( MTU )值都不相同,因为每个不同类型的数据链路使用的目的不同,所以可承载的MTU值也就不相同.
		任何一台主机都有必要对IP分片进行相应的处理,分片机制往往是因为在网络上遇到比较大的报文,而主机无法一次性将所有的报文传输出去而启用的.
		经过分片之后的IP数据报在被重组的时候,只能由对端主机进行,路由器本身会做分片,但不会重组.
		
		因为路由器本身会对较大的报文进行分片处理,所以这无疑会增加路由器本身的负担,那么有没有一种好的方法来让路由器不再对不对IP数据报操作呢?

	路径MTU发现
		答案当然是有的,理想状态下,是不希望路由器进行IP数据包的分片处理的.
		所以,"路径MTU发现"这个技术产生了.首,什么是"路径MTU"呢? 
			路径MTU(PMTU) , 是指从发送端主机到接收端主机之间,不需要进行分片处理的最大MTU大小.这一般是指从发送端到接收端的链路中,最小的MTU值.这样,IP报文的大小正好是这条链路所能容纳的最大尺寸,途径的路由器也不会进行分片.达到了理想的状态.
		进行路径MTU发现,就可以避免在中途的路由器上进行分片处理,也就可以在TCP传输中,尽可能地发送更大的包了.
		

	下面稍微简述一下IPV6吧
		IPV6的产生从根本上解决了地址即将被耗尽的问题.
		IPV4的地址长度为4个8位字节,即是32bit,而IPV6的地址长度是IPV4的4倍,即是128bit,一般写成8个16位字节
		
		IPV6有哪些特点呢?
			1 : 地址容量大大扩展,且支持分层地址结构,更加易于寻址.扩展支持组播和任意播地址,使得数据包可以发送给任何一个或者一组节点
			2 : 大容量的地址空间能够真正实现无状态地址自动配置,即插即用,无需人工配置,所以IPV6终端可以更快速度地连接到互联网上
			3 : 报头格式地大大简化,有效减少了路由器或者交换机对报头处理地开销;
			4 : 加强了扩展报头和选项部分的支持,除了让转发更加有效之外,也为将来网络加载新的应用提供了充分的支持
			5 : 流标签的使用让我们可以为数据包所属的类型提供个性化的网络服务,并且保证了相关业务的服务质量
			6 : 认证与私密性,IPV6把IPSEC作为必备协议,保证了网络层端到端通信的完整性和机密性
			7 : IPV6在移动网络和实时通信方面有很大的改进,IPV6强大的自动配置功能简化了移动主机和局域网的系统管理
			
		总结下来,IPV6的诞生,彻底解决了IPV4网址不够用的问题,并且使得IPV6主机可以更快地连接在互联网上,,提高了网络服务的质量,保障了网络服务的安全性,在未来必将成为主流.
		
	
	对于IP协议,还有一些相关地技术
		若要让对端设备收到本机发送地数据,光有IP是无法实现通信地,还必须能够解析主机名称和MAC地址的功能,以及一些数据传输过程中的异常处理功能.
		
		DNS : 网域名称系统,解析域名.并且DNS不仅支持IPV4,也支持IPV6.
		
		ARP : 在数据链路层传输中,进行实时通信有必要知道每个IP地址对应的主机所对应的IP地址,这个需求可以通过ARP(地址解析协议)泛洪来接收各个主机的MAC地址.但是注意,ARP不支持IPV6,所以在IPV6网络中,可以用ICMPV6来代替ARP发送邻居探索消息.
		RARP(逆地址解析协议),与ARP相反,通过MAC地址来定位IP地址
		
		ICMP
			ICMP(互联网控制协议报文),用来确认IP包是否发送到目标地址(所以PING中发的使ICMP包),通知在发送过程中IP包被废弃的具体原因,改善网络设置.在IPV6网络中,没有ICMPV6,主机间就无法正常通信
			
		DHCP
			DHCP(动态主机设置协议),自动为每一台设备设置IP地址,DHCP让即插即用变成可能
			DHCP不仅适用于IPV4,也适用于IPV6
			
		NAT
			NAT(网络地址转换) : 私有地址和公有地址的相互转换
		NAPT
			NAPT(网络端口地址转换) : 可以转换TCP,UDP端口号的技术,由此可以实现使用一个全局的IP地址与多个主机通信.
		在IPV4和IPV6之间相互通信,通常使用NAT-PT
			
			
			
		
